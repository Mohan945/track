SET LINES 200
COL DEST_NAME FOR A20
COL STATUS FOR A10
COL ERROR FOR A40
COL APPLIED_SEQ FOR 999999
COL ARCHIVED_SEQ FOR 999999
COL SEQ_GAP FOR 99999
COL DEST_ID FOR 999

PROMPT === Archive Destination Status Summary ===
SELECT DEST_ID,
       DEST_NAME,
       STATUS,
       TRANSMIT_MODE,
       APPLIED_SEQ#,
       ARCHIVED_SEQ#,
       (ARCHIVED_SEQ# - APPLIED_SEQ#) AS SEQ_GAP,
       ERROR
  FROM V$ARCHIVE_DEST_STATUS
 WHERE STATUS = 'VALID'
   AND DESTINATION IS NOT NULL;

PROMPT
PROMPT === Transport / Apply Lag (from V$DATAGUARD_STATS) ===
SELECT NAME, VALUE, UNIT
  FROM V$DATAGUARD_STATS
 WHERE NAME IN ('apply lag', 'transport lag');

PROMPT
PROMPT === Standby Redo Apply Rate ===
SELECT NAME, VALUE, UNIT
  FROM V$DATAGUARD_STATS
 WHERE NAME = 'apply rate';

PROMPT
PROMPT === Current Redo Apply Status (MRP, RFS, APPLY) ===
SELECT PROCESS, STATUS, THREAD#, SEQUENCE#
  FROM V$MANAGED_STANDBY
 WHERE PROCESS IN ('MRP0','RFS','APPLY');
